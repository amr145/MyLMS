@model MyLMS2.Models.Module

@{
    Layout = "~/Views/Shared/_Layout2.cshtml";
    ViewData["Title"] = "Create Module";
}

<div class="container mt-4">
    <!-- العنوان -->
    <h2 class="text-center text-white py-2 rounded mb-4"
        style="background:#2C3E50; max-width:500px; margin:0 auto;">
        📂 Create New Module
    </h2>

    <!-- كارد للفورم -->
    <div class="card shadow p-4">
        <form asp-action="Create" enctype="multipart/form-data" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <!-- Title -->
            <div class="form-group mb-3">
                <label asp-for="Title" class="form-label fw-bold" style="color:#343a40"></label>
                <input asp-for="Title" class="form-control" placeholder="Enter module title" />
                <span asp-validation-for="Title" class="text-danger"></span>
            </div>

            <!-- Course Dropdown -->
            <div class="form-group mb-3">
                <label asp-for="CourseId" class="form-label fw-bold " style="color:#343a40">Course</label>
                <select asp-for="CourseId" asp-items="ViewBag.CourseId" class="form-control"></select>
                <span asp-validation-for="CourseId" class="text-danger"></span>
            </div>

            <!-- File Uploads -->
            <div class="form-group mb-3">
                <label class="fw-bold" style="color:#343a40">📄 PDF File (optional)</label>
                <input type="file" name="pdfFile" class="form-control" />
            </div>

            <div class="form-group mb-3">
                <label class="fw-bold" style="color:#343a40">📝 Word File (optional)</label>
                <input type="file" name="wordFile" class="form-control" />
            </div>

            <div class="form-group mb-3">
                <label class="fw-bold" style="color:#343a40">📊 PPT File (optional)</label>
                <input type="file" name="pptFile" class="form-control" />
            </div>

            <div class="form-group mb-3">
                <label class="fw-bold" style="color:#343a40">🎧 Audio File (optional)</label>
                <input type="file" name="audioFile" class="form-control" />
            </div>

            <div class="form-group mb-3">
                <label class="fw-bold" style="color:#343a40">🎥 Video File (optional)</label>
                <input type="file" name="videoFile" class="form-control" />
            </div>

            <!-- الأزرار -->
            <div class="d-flex justify-content-between mt-3">
                <button type="submit" class="btn btn-primary">💾 Save</button>
                <a asp-action="Index" class="btn btn-secondary">⬅️ Back to List</a>
            </div>

            <!-- رسائل النجاح / الخطأ -->
            @if (TempData["SuccessMessage"] != null)
            {
                <div class="alert alert-success mt-3 shadow-sm">@TempData["SuccessMessage"]</div>
            }
            @if (TempData["ErrorMessage"] != null)
            {
                <div class="alert alert-danger mt-3 shadow-sm">@TempData["ErrorMessage"]</div>
            }

            <div asp-validation-summary="All" class="text-danger mb-3"></div>
        </form>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
